from pwn import *

#array nums
nums = [ 0x1, 0xA, 0x3, 0x2, 0x5, 0x9, 0x8, 0x7, 0x4, 0x6 ]

r = remote("2020.redpwnc.tf", 31039)	#used to get the flag
#r = process("./bubbly") 		#used to test exploit in local

r.recvuntil("hand?\n")

n = len(nums) 
for i in range(n-1): 
	for j in range(0, n-i-1): 
		if nums[j] > nums[j+1] : 
			#swap nums[i] with nums[i+1].
			nums[j] = nums[j] ^ nums[j+1]
			nums[j+1] = nums[j+1] ^ nums[j]
			nums[j] = nums[j] ^ nums[j+1]
			#instead of this we can obviously use:
			#hold = nums[j]
			#nums[j] = nums[j+1]
			#nums[j+1] = hold 			
			
			#sending current swap index
			r.sendline( str(j) )
			print(j)

#sending a number > 8, to exit loop and get flag
r.sendline("9")

print(r.recvall())


#flag{4ft3r_y0u_put_u54c0_0n_y0ur_c011ege_4pp5_y0u_5t1ll_h4ve_t0_d0_th15_57uff}
